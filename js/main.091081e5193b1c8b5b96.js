!function(a){var e={};function t(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return a[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=a,t.c=e,t.d=function(a,e,n){t.o(a,e)||Object.defineProperty(a,e,{enumerable:!0,get:n})},t.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},t.t=function(a,e){if(1&e&&(a=t(a)),8&e)return a;if(4&e&&"object"==typeof a&&a&&a.__esModule)return a;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:a}),2&e&&"string"!=typeof a)for(var s in a)t.d(n,s,function(e){return a[e]}.bind(null,s));return n},t.n=function(a){var e=a&&a.__esModule?function(){return a.default}:function(){return a};return t.d(e,"a",e),e},t.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)},t.p="",t(t.s=1)}([function(a,e){a.exports='<!DOCTYPE html> <html lang="ru"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width,initial-scale=1"> <title>Calendar</title> </head> <body> <div id="railway-calendar" class="container"> <div class="calendar"> <div class="calendar__handler"> <div class="calendar__handler-date"><span class="month"></span><span class="year"> </span></div> <div class="calendar__handler-buttons"> <button class="calendar__handler-button calendar__handler-button_prev"></button> <button class="calendar__handler-button calendar__handler-button_next"></button> </div> </div> <div class="calendar__weekdays"> <div class="calendar__weekday">Пн</div> <div class="calendar__weekday">Вт</div> <div class="calendar__weekday">Ср</div> <div class="calendar__weekday">Чт</div> <div class="calendar__weekday">Пт</div> <div class="calendar__weekday">Сб</div> <div class="calendar__weekday">Вс</div> </div> <div class="calendar__days"> <span class="calendar__day calendar__day-prev-date">26</span> <span class="calendar__day calendar__day-prev-date">27</span> <span class="calendar__day calendar__day-prev-date">28</span> <span class="calendar__day calendar__day-prev-date">29</span> <span class="calendar__day calendar__day-prev-date">30</span> <span class="calendar__day">1</span> <span class="calendar__day">2</span> <span class="calendar__day">3</span> <span class="calendar__day">4</span> <span class="calendar__day">5</span> <span class="calendar__day">6</span> <span class="calendar__day">7</span> <span class="calendar__day">8</span> <span class="calendar__day">9</span> <span class="calendar__day">10</span> <span class="calendar__day">11</span> <span class="calendar__day">12</span> <span class="calendar__day">13</span> <span class="calendar__day">14</span> <span class="calendar__day">15</span> <span class="calendar__day">16</span> <span class="calendar__day">17</span> <span class="calendar__day">18</span> <span class="calendar__day">19</span> <span class="calendar__day">20</span> <span class="calendar__day">21</span> <span class="calendar__day">22</span> <span class="calendar__day">23</span> <span class="calendar__day">24</span> <span class="calendar__day">25</span> <span class="calendar__day">26</span> <span class="calendar__day">27</span> <span class="calendar__day">28</span> <span class="calendar__day">29</span> <span class="calendar__day">30</span> <span class="calendar__day">31</span> <span class="calendar__day calendar__day-next-date">1</span> <span class="calendar__day calendar__day-next-date">2</span> <span class="calendar__day calendar__day-next-date">3</span> <span class="calendar__day calendar__day-next-date">4</span> <span class="calendar__day calendar__day-next-date">5</span> <span class="calendar__day calendar__day-next-date">6</span> </div> </div> </div> </body> </html>'},function(a,e,t){"use strict";t.r(e);t(0);var n=function(a){var e=document.querySelectorAll(".calendar__day");a.addEventListener("click",(function(a){var t=a.target;t.matches(".calendar__day")&&!t.classList.contains("calendar__day-disable")&&e.forEach((function(a,n){t===a&&function(a){for(var t=0;t<e.length;t++)t===a?e[t].classList.add("calendar__day_active"):e[t].classList.remove("calendar__day_active")}(n)}))}))};function s(a,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}var r=function(){function a(e,t,n,s,r,d){!function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.daysWrapper=r,this.monthElement=t,this.yearElement=n,this.date=e,this.month,this.year,this.startWeek=s,this.calendarDay,this.eventsData=d,this.eventsDays,this.eventPopups,this.months=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"]}var e,t,r;return e=a,(t=[{key:"setDate",value:function(){this.date.setDate(1)}},{key:"setMonthYear",value:function(){this.month=this.date.getMonth(),this.year=this.date.getFullYear()}},{key:"renderMonthYear",value:function(){this.setMonthYear(),this.monthElement.textContent="".concat(this.months[this.month],"\n"),this.yearElement.textContent="".concat(this.year)}},{key:"renderCalendar",value:function(a){this.setDate();var e="",t=new Date(a.getFullYear(),a.getMonth()+1,0).getDate(),s=new Date(a.getFullYear(),a.getMonth(),0).getDate(),r=13-(new Date(a.getFullYear(),a.getMonth()+1,0).getDay()-this.startWeek),d=a.getDay()-this.startWeek;d<0&&(d=a.getDay()+7-this.startWeek);for(var c=d;c>0;c--)e+='<span class="calendar__day calendar__day-prev-date calendar__day-disable">'.concat(s-c+1,"</span>");for(var l=1;l<=t;l++)l===(new Date).getDate()&&this.date.getMonth()===(new Date).getMonth()?e+='<a href="#"\n        class="calendar__day calendar__day_today" \n        data-date="'.concat(this.date.getFullYear(),"-").concat(this.date.getMonth()<10?"0"+(this.date.getMonth()+1):this.date.getMonth()+1,"-").concat(l<10?"0"+l:l,'">').concat(l,"</a>"):e+='<a href="#"\n        class="calendar__day" \n        data-date="'.concat(this.date.getFullYear(),"-").concat(this.date.getMonth()<9?"0"+(this.date.getMonth()+1):this.date.getMonth()+1,"-").concat(l<10?"0"+l:l,'">').concat(l,"</a>");for(var i=1;i<=r;i++)e+='<span class="calendar__day calendar__day-next-date calendar__day-disable">'.concat(i,"</span>"),this.daysWrapper.innerHTML=e;this.daysInHTML=document.querySelectorAll(".calendar__day");for(var o=this.daysInHTML.length;o>41;o--)this.daysInHTML[o]&&this.daysInHTML[o].remove();n(this.daysWrapper)}},{key:"bindEventListeners",value:function(a,e){var t=this;this.renderCalendar(this.date),a.addEventListener("click",(function(){return t._changeMinus(t.date)})),e.addEventListener("click",(function(){return t._changePlus(t.date)}))}},{key:"_addTargetDay",value:function(a){}},{key:"getEventsData",value:function(){for(var a=document.querySelectorAll(".calendar__day:not(.calendar__day-prev-date, .calendar__day-next-date)"),e=0;e<a.length;e++)e<(new Date).getDate()-1&&a[e].classList.add("event__prev"),e>(new Date).getDate()-1&&a[e].classList.add("event__next"),e<(new Date).getDate()&&this.date.getMonth()>(new Date).getMonth()&&(a[e].classList.remove("event__prev"),a[e].classList.add("event__next")),e>(new Date).getDate()&&this.date.getMonth()<(new Date).getMonth()&&(a[e].classList.remove("event__next"),a[e].classList.add("event__prev")),e===(new Date).getDate()-1&&this.date.getMonth()===(new Date).getMonth()&&(a[e].classList.remove("event__prev"),a[e].classList.add("event__today"))}},{key:"setEvents",value:function(){var a=document.querySelectorAll("[data-date]");this.eventsData.forEach((function(e){a.forEach((function(a){a.dataset.date===e.start&&a.classList.add("event")}))}))}},{key:"appendEventPopup",value:function(){var a=this;this.eventsDays=document.querySelectorAll(".event"),this.eventsData.forEach((function(a,e){})),this.eventsDays.forEach((function(e,t){a.eventPopup=document.createElement("div"),a.eventPopup.classList.add("event__popup"),e.append(a.eventPopup)}))}},{key:"addDataDateInPopup",value:function(){var a=this;this.eventPopups=document.querySelectorAll(".event__popup"),document.querySelectorAll(".event").forEach((function(e,t){a.eventPopups[t].dataset.date=e.dataset.date}))}},{key:"renderPopupTextContent",value:function(){var a=this;this.eventPopups=document.querySelectorAll(".event__popup"),this.eventPopups.forEach((function(e){a.eventsData.forEach((function(t,n){e.dataset.date===t.start&&(e.textContent=t.description,a.eventsDays.forEach((function(a){a.href=t.eventUrl})))}))}))}},{key:"_changeMinus",value:function(a){this.setDate(),a.setMonth(a.getMonth()-1),this.renderMonthYear(),this.renderCalendar(a),this.getEventsData(),this.setEvents(),this.appendEventPopup(),this.addDataDateInPopup(),this.renderPopupTextContent()}},{key:"_changePlus",value:function(a){this.setDate(),a.setMonth(a.getMonth()+1),this.renderMonthYear(),this.renderCalendar(a),this.getEventsData(),this.setEvents(),this.appendEventPopup(),this.addDataDateInPopup(),this.renderPopupTextContent()}}])&&s(e.prototype,t),r&&s(e,r),a}();function d(a,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}new(function(){function a(e,t){var n=t.startWeek,s=void 0===n?1:n,r=t.arrowNext,d=t.arrowPrev,c=t.monthElement,l=t.yearElement,i=t.daysWrapper,o=t.eventsData;!function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.initId=document.getElementById(e),this.startWeek=s,this.arrowNext=document.querySelector(r),this.arrowPrev=document.querySelector(d),this.monthElement=document.querySelector(c),this.yearElement=document.querySelector(l),this.daysWrapper=document.querySelector(i),this.date=new Date,this.month,this.year,this.days=document.querySelectorAll(".calendar__day"),this.weekDays=[{ru:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"]}],this.eventsData=o,this.months=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"]}var e,t,s;return e=a,(t=[{key:"init",value:function(){var a=new r(this.date,this.monthElement,this.yearElement,this.startWeek,this.daysWrapper,this.eventsData);a.renderMonthYear(),a.bindEventListeners(this.arrowPrev,this.arrowNext),n(this.daysWrapper),a.getEventsData(),a.setEvents(),a.appendEventPopup(),a.addDataDateInPopup(),a.renderPopupTextContent()}}])&&d(e.prototype,t),s&&d(e,s),a}())("railway-calendar",{arrowPrev:".calendar__handler-button_prev",arrowNext:".calendar__handler-button_next",daysWrapper:".calendar__days",monthElement:".month",yearElement:".year",startWeek:1,eventsData:[{start:"2021-06-23",name:"test",eventUrl:"https://vk.com/kuz.mich",description:"23.06.2021"},{start:"2021-06-24",name:"test1",eventUrl:"https://vk.com/kuz.mich",description:"24.06.2021"},{start:"2021-06-25",name:"test2",eventUrl:"https://vk.com/kuz.mich",description:"25.06.2021"},{start:"2021-06-30",name:"test2",eventUrl:"https://vk.com/kuz.mich",description:"30.06.2021"},{start:"2021-07-01",name:"test2",eventUrl:"https://vk.com/kuz.mich",description:"01.07.2021"},{start:"2021-06-28",name:"test2",eventUrl:"https://vk.com/kuz.mich",description:"Международная онлайн выставка-конференция железнодорожных технологий Rail Tech"},{start:"2021-05-31",name:"test2",eventUrl:"https://vk.com/kuz.mich",description:"31.05.2021"}]}).init();new Date}]);